<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo 部署到 Aliyun | Yongz丶</title><meta name="author" content="Yongz丶"><meta name="copyright" content="Yongz丶"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Hexo 部署到 aliyun之前个人所有笔记都是放在语雀上，主要除了学生也没啥人看，后面接触多了感觉写写博客好像也蛮不错的。 陆陆续续也搭建过 WordPress 和 Hexo 再三权衡（拖了半年）最后还是选择了 Hexo，并将 Hexo 博客托管在了 GitHub 上并绑定了 yongz.icu 这个域名（现在不用了）。 但总所周知 GitHub 由于某些原因在国内访问速度极慢，hexo de">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo 部署到 Aliyun">
<meta property="og:url" content="https://yongz.fun/posts/1659ba23.html">
<meta property="og:site_name" content="Yongz丶">
<meta property="og:description" content="Hexo 部署到 aliyun之前个人所有笔记都是放在语雀上，主要除了学生也没啥人看，后面接触多了感觉写写博客好像也蛮不错的。 陆陆续续也搭建过 WordPress 和 Hexo 再三权衡（拖了半年）最后还是选择了 Hexo，并将 Hexo 博客托管在了 GitHub 上并绑定了 yongz.icu 这个域名（现在不用了）。 但总所周知 GitHub 由于某些原因在国内访问速度极慢，hexo de">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yongz.fun/img/post_img/post_img2.jpg">
<meta property="article:published_time" content="2023-09-02T08:23:04.000Z">
<meta property="article:modified_time" content="2025-08-21T19:07:45.045Z">
<meta property="article:author" content="Yongz丶">
<meta property="article:tag" content="Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yongz.fun/img/post_img/post_img2.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hexo 部署到 Aliyun",
  "url": "https://yongz.fun/posts/1659ba23.html",
  "image": "https://yongz.fun/img/post_img/post_img2.jpg",
  "datePublished": "2023-09-02T08:23:04.000Z",
  "dateModified": "2025-08-21T19:07:45.045Z",
  "author": [
    {
      "@type": "Person",
      "name": "Yongz丶",
      "url": "https://yongz.fun"
    }
  ]
}</script><link rel="shortcut icon" href="/./img/favicon.ico"><link rel="canonical" href="https://yongz.fun/posts/1659ba23.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo 部署到 Aliyun',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Yongz丶" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/./img/avatar.jpg" onerror="this.onerror=null;this.src='/./img/404.jpg'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-archive"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E6%97%A5%E5%B8%B8/"><i class="fa-fw fa-solid fa-book"></i><span> 日常</span></a></li><li><a class="site-page child" href="/categories/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-calendar-week"></i><span> 安全</span></a></li><li><a class="site-page child" href="/categories/General/"><i class="fa-fw fa-brands fa-linux"></i><span> 通用</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nav.yongz.fun/"><i class="fa-fw fa-solid fa-compass"></i><span> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/./img/post_img/post_img2.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Yongz丶</span></a><a class="nav-page-title" href="/"><span class="site-name">Hexo 部署到 Aliyun</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-archive"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E6%97%A5%E5%B8%B8/"><i class="fa-fw fa-solid fa-book"></i><span> 日常</span></a></li><li><a class="site-page child" href="/categories/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-calendar-week"></i><span> 安全</span></a></li><li><a class="site-page child" href="/categories/General/"><i class="fa-fw fa-brands fa-linux"></i><span> 通用</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nav.yongz.fun/"><i class="fa-fw fa-solid fa-compass"></i><span> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Hexo 部署到 Aliyun</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-09-02T08:23:04.000Z" title="发表于 2023-09-02 16:23:04">2023-09-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%97%A5%E5%B8%B8/">日常</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>7分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Hexo-部署到-aliyun"><a href="#Hexo-部署到-aliyun" class="headerlink" title="Hexo 部署到 aliyun"></a>Hexo 部署到 aliyun</h1><p>之前个人所有笔记都是放在语雀上，主要除了学生也没啥人看，后面接触多了感觉写写博客好像也蛮不错的。</p>
<p>陆陆续续也搭建过 WordPress 和 Hexo 再三权衡（<del>拖了半年</del>）最后还是选择了 Hexo，并将 Hexo 博客托管在了 GitHub 上并绑定了 yongz.icu 这个域名（现在不用了）。</p>
<p>但总所周知 GitHub 由于某些原因在国内访问速度极慢，hexo deploy 慢的一匹。最后还是下定决心买了阿里云服务器，然后将 Hexo 博客部署到云服务器上，顺便绑个新域名。</p>
<blockquote>
<p>[!Note]</p>
<p>本文来自 koenli 大佬：<a target="_blank" rel="noopener" href="https://www.koenli.com/bda2f0d3.html">https://www.koenli.com/bda2f0d3.html</a></p>
</blockquote>
<h2 id="1-服务器配置"><a href="#1-服务器配置" class="headerlink" title="1 服务器配置"></a>1 服务器配置</h2><p>服务器配置如下表所示<del>（有点破烂）</del>：</p>
<table>
<thead>
<tr>
<th align="center">CPU</th>
<th align="center">内存</th>
<th align="center">操作系统</th>
<th align="center">Git</th>
<th align="center">Web</th>
</tr>
</thead>
<tbody><tr>
<td align="center">2 核</td>
<td align="center">2G</td>
<td align="center">CentOS 7.6</td>
<td align="center">yum install</td>
<td align="center">宝塔</td>
</tr>
</tbody></table>
<ul>
<li><strong>CPU / 内存</strong>：由于 Hexo 是静态博客，不需要多高的配置，1 核 1G 都是随便跑（<del>访问量贼大当我没说</del>）。</li>
<li><strong>操作系统</strong>：这里我必须要吐槽，Ubuntu 为什么不行，我装了三遍都不行，最终认命装了 CentOS 7.6 就可以了（<del>我敲</del>）。</li>
<li><strong>Git</strong>：大佬博客上写的是 Git 在 CentOS 上版本会很旧，我直接就用 yum 安装了一个，实际试下来，没啥问题。</li>
<li><strong>Web</strong>：可自行安装 Nginx 或 Apache<del>（不嫌麻烦的话）</del>，这里推荐使用宝塔，因为其不仅可以方便的添加网站和开启 HTTPS，还支持对服务器进行资源监控，端口管理等功能，是一款能够有效提升运维效率的服务器管理软件（<del>不是推广</del>）。</li>
</ul>
<h2 id="2-Git-配置"><a href="#2-Git-配置" class="headerlink" title="2 Git 配置"></a>2 Git 配置</h2><h3 id="2-1-创建-Git-用户并配置-sudo-权限"><a href="#2-1-创建-Git-用户并配置-sudo-权限" class="headerlink" title="2.1 创建 Git 用户并配置 sudo 权限"></a>2.1 创建 Git 用户并配置 sudo 权限</h3><p>创建一个 Git 用户，用于 SSH 连接：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd git</span><br></pre></td></tr></tbody></table></figure>

<p>由于 Git 用户会涉及到 root 命令的使用，配置一下 sudo 权限（CentOS visudo 用的是 Vim，Ubuntu 用的是 Nano）：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></tbody></table></figure>

<p>找到 <code>root ALL=(ALL) ALL</code>，在下面一行添加以下内容并保存退出：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root ALL=(ALL) ALL</span><br><span class="line">git ALL=(ALL) ALL</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-2-配置-SSH-密钥"><a href="#2-2-配置-SSH-密钥" class="headerlink" title="2.2 配置 SSH 密钥"></a>2.2 配置 SSH 密钥</h3><p>在本地机器执行以下命令创建密钥，如果本地机器是 Windows 则在 Git Bash 中执行（<del>可以不用，但是最好要用</del>）。</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>[!Warning]</p>
<p>如果本地机器已有密钥，可跳过此步，无需重复创建~</p>
</blockquote>
<p>生成的公钥文件，Windows 和 Linux 的位置有所不同：</p>
<ul>
<li>Windows：<code>C:/User/%USERNAME%/.ssh/id_rsa.pub</code></li>
<li>Linux：<code>~/.ssh/id_rsa.pub</code></li>
</ul>
<p>在服务器上执行如下命令，创建 <code>.ssh</code> 目录和 <code>authorized_keys</code> 文件，并修改文件权限（非常重要，权限问题会导致 SSH 连接失败）：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 切换至 git 用户，连同环境变量一起</span></span></span><br><span class="line">su - git</span><br><span class="line">mkdir ~/.ssh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 这里其实不太建议用 echo，建议是 vim ~/.ssh/authorized_keys，然后直接粘贴保存</span></span></span><br><span class="line">echo "替换为id_rsa.pub文件的内容" &gt; ~/.ssh/authorized_keys </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 修改文件权限</span></span></span><br><span class="line">chmod 700 ~/.ssh</span><br><span class="line">chmod 600 ~/.ssh/authorized_keys</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 切换回root用户</span></span></span><br><span class="line">exit</span><br></pre></td></tr></tbody></table></figure>

<p>测试从本地机器上是否可以通过 git 用户免密登录服务器：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh git@&lt;yourIP&gt;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-创建网站根目录"><a href="#2-3-创建网站根目录" class="headerlink" title="2.3 创建网站根目录"></a>2.3 创建网站根目录</h3><blockquote>
<p>[!Info]</p>
<ul>
<li>这里我是直接照搬大佬博客的路径（<del>其实就是懒</del>）。</li>
<li>此网站根目录对应 Web 软件的网站发布目录，可自定义。</li>
</ul>
</blockquote>
<p>使用如下命令创建目录，并转移用户所属主和组：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /data/web/blog</span><br><span class="line">chown git:git -R /data/web/blog</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-初始化-Git-裸仓库并配置自动化部署"><a href="#2-4-初始化-Git-裸仓库并配置自动化部署" class="headerlink" title="2.4 初始化 Git 裸仓库并配置自动化部署"></a>2.4 初始化 Git 裸仓库并配置自动化部署</h3><p>使用如下命令初始化 git 仓库：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 创建 git 目录</span></span></span><br><span class="line">mkdir -p /data/git</span><br><span class="line">cd /data/git/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 一定要加上 --bare 参数，将仓库设置为共享仓库</span></span></span><br><span class="line">git init --bare blog.git</span><br><span class="line">chown git:git -R blog.git</span><br></pre></td></tr></tbody></table></figure>

<p>此时在 Git 仓库目录（<code>/data/git/blog.git</code>）下，有一个自动生成的 <code>hooks</code> 目录，在 <code>hooks</code> 目录下创建一个新的钩子 <code>post-receive</code>，用于自动化部署：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /data/git/blog.git/hooks/post-receive</span><br></pre></td></tr></tbody></table></figure>

<p>在文件中添加以下内容，根据实际情况修改工作树目录和 Git 目录：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># git --work-tree=&lt;work-tree-dir&gt; --git-dir=&lt;git-dir&gt; checkout -f</span></span></span><br><span class="line">git --work-tree=/data/web/blog --git-dir=/data/git/blog.git checkout -f</span><br></pre></td></tr></tbody></table></figure>

<p>修改文件权限：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown git:git /data/git/blog.git/hooks/post-receive</span><br><span class="line">chmod +x /data/git/blog.git/hooks/post-receive</span><br></pre></td></tr></tbody></table></figure>

<h2 id="3-安装并配置宝塔"><a href="#3-安装并配置宝塔" class="headerlink" title="3 安装并配置宝塔"></a>3 安装并配置宝塔</h2><h3 id="3-1-安装宝塔"><a href="#3-1-安装宝塔" class="headerlink" title="3.1 安装宝塔"></a>3.1 安装宝塔</h3><ul>
<li>宝塔 Linux 面板是提升运维效率的服务器管理软件，支持一键 LAMP/LNMP/ 集群 / 监控 / 网站 / FTP / 数据库 / JAVA 等 100 多项服务器管理功能。</li>
<li>宝塔官网：<a target="_blank" rel="noopener" href="https://www.bt.cn/new/index.html">https://www.bt.cn/new/index.html</a>。</li>
</ul>
<p>由于此处我用的是 CentOS，安装命令如下（记得一定要是 == 纯净系统 ==）：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp ; yum install -y wget &amp;&amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec</span><br></pre></td></tr></tbody></table></figure>

<p>中间会让确认是否默认安装到 <code>/www</code> 目录下，输入 <code>y</code> 回车即可：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Do you want to install Bt-Panel to the /www directory now?(y/n):y</span><br></pre></td></tr></tbody></table></figure>

<p>网络状况良好的情况下大概 3 分钟即可安装完成，安装成功会输出如下内容，其中包括面板的外网、内网访问地址和默认的用户名密码，这些信息也可通过之后再通过 <code>/etc/init.d/bt default</code> 命令查看：</p>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">==================================================================</span><br><span class="line"><span class="title class_">Congratulations</span>! <span class="title class_">Installed</span> successfully!</span><br><span class="line">==================================================================</span><br><span class="line">外网面板地址:  <span class="attr">https</span>:<span class="comment">//xxx.xxx.xxx.xxx:39893/f0621e2c</span></span><br><span class="line">内网面板地址:  <span class="attr">https</span>:<span class="comment">//172.19.10.62:39893/f0621e2c</span></span><br><span class="line"><span class="attr">username</span>: l8fxgpwg</span><br><span class="line"><span class="attr">password</span>: 62420ae9</span><br><span class="line"><span class="title class_">If</span> you cannot access the panel,</span><br><span class="line">release the following panel port [<span class="number">39893</span>] <span class="keyword">in</span> the security group</span><br><span class="line">若无法访问面板，请检查防火墙/安全组是否有放行面板[<span class="number">39893</span>]端口</span><br><span class="line">注意：初始密码仅在首次登录面板前能正确获取，其它时间请通过 bt <span class="number">5</span> 命令修改密码</span><br><span class="line">==================================================================</span><br><span class="line"><span class="title class_">Time</span> <span class="attr">consumed</span>: <span class="number">3</span> <span class="title class_">Minute</span>!</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>[!Warning]</p>
<p>云服务器记得配置端口组，开放相关端口。</p>
</blockquote>
<h3 id="3-2-配置宝塔-Linux-面板"><a href="#3-2-配置宝塔-Linux-面板" class="headerlink" title="3.2 配置宝塔 Linux 面板"></a>3.2 配置宝塔 Linux 面板</h3><p>通过浏览器访问面板地址，通过上述的默认用户名密码登录即可。因为宝塔面板许多功能都依赖于官网，第一次登录后需要绑定宝塔账号，如果还没有宝塔账号可以点击 “登录” 按钮下方的 “未有账号，免费注册” 跳转到注册，如果已有宝塔账号则直接输入账号信息点击 “登录” 进行绑定。</p>
<p>在 “推荐安装套件” 窗口选择安装 LNMP (推荐)，仅勾选安装 “Nginx”，安装方式选择 “极速安装”，最后点击 “一键安装”，等待安装完成（我已经装完了，用下大佬的图）：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161847538.jpg" alt="image-20230902161828955"></p>
<h3 id="3-3-添加网站并按需配置-SSL-证书"><a href="#3-3-添加网站并按需配置-SSL-证书" class="headerlink" title="3.3 添加网站并按需配置 SSL 证书"></a>3.3 添加网站并按需配置 SSL 证书</h3><p>点击 “网站”，选择 “添加站点”：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161838860.jpg" alt="image-20230902161838860"></p>
<p>填写网站相关信息后，点击 “提交”：</p>
<ul>
<li><strong>域名</strong>：设置网站域名，如需填写多个域名，请换行填写，每行一个域名，默认为 80 端口。</li>
<li><strong>根目录</strong>：此处设置的根目录就是之前创建的网站根目录 <code>/data/web/blog</code>，如果不是根据教程创建的，选择相应的目录即可。</li>
</ul>
<p>先到 aliyun 上购买个免费证书，信息填写完后，大概十分钟就能发到邮箱：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161828955.jpg" alt="image-20230902161843713"></p>
<p>到域名注册商根据服务器类型（此处为 Nginx）下载对应域名的 SSL 证书（以阿里云为例），其中 <code>.key</code> 后缀的是密钥，<code>.pem</code> 后缀的是证书：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161854332.jpg" alt="image-20230902161847538"></p>
<p>点击刚创建的网站 SSL 证书下的 “未部署” 字样，选择 “当前证书”，用文本编辑器完整复制粘贴密钥（KEY）和证书 (PEM 或 CRT 格式) 的内容到对应的文本框中，点击 “保存” 并强制开始 HTTPS：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161903332.jpg" alt="image-20230902161854332"></p>
<p>到这里服务器上需要配置的内容就结束了。</p>
<blockquote>
<p>2025 更新：现在宝塔上可以直接支持部署免费证书啦~</p>
</blockquote>
<h2 id="4-配置本地-Hexo"><a href="#4-配置本地-Hexo" class="headerlink" title="4 配置本地 Hexo"></a>4 配置本地 Hexo</h2><p>由于之前我是配置提交到 GitHub 上，选在需要修改提交到自己的服务器上，在博客根目录 <code>_config.yml</code> 中添加以下内容：</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Deployment</span></span><br><span class="line"><span class="comment">### Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">'git'</span></span><br><span class="line"><span class="comment">## repo: 'https://github.com/Y0n9zh/Y0n9zh.github.io.git' # 仓库地址</span></span><br><span class="line"><span class="comment">## repo: git@&lt;x.x.x.x&gt;(服务器IP):&lt;git-dir&gt;    #仓库地址</span></span><br><span class="line"><span class="comment">## repo: ssh://git@&lt;x.x.x.x&gt;(服务器IP):&lt;ssh-port&gt;&lt;git-dir&gt;    #发布至SSH非22端口服务器</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@xxx.xxx.xxx.xxx:/data/git/blog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment"># 主分支</span></span><br></pre></td></tr></tbody></table></figure>

<p>执行部署：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean all &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></tbody></table></figure>

<p>访问前需要在域名注册商配置域名解析，将域名解析到云服务器 IP 地址，如果是本地服务器也可通过配置 hosts 解析进行测试：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161843713.jpg" alt="image-20230902161858870"></p>
<p>访问一下博客域名，查看是否成功：</p>
<p><img src="http://yongz-typro.oss-cn-beijing.aliyuncs.com/website/image-20230902161858870.jpg" alt="image-20230902161903332"></p>
<p>完结撒花~</p>
</article><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/./img/post_img/post_img2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/aa56f87.html" title="网络安全法"><img class="cover" src="/./img/post_img/post_img3.jpg" onerror="onerror=null;src='/./img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">网络安全法</div></div><div class="info-2"><div class="info-item-1">网络安全法 [!Warning] 本人所有文章均为技术分享与知识记录，仅用于以防御为目的的教学演示，所有操作均在实验环境下进行，请各位读者勿用于其他用途，否则后果自负。  2016 年 11 月 7 日，第二十届全国人民代表大会常务委员会通过了《中华人民共和国网络安全法》，该法案于 2017 年 6 月 1 日开始生效。 全文链接：中华人民共和国网络安全法 1 关键条目第一条：  为了保障网络安全，维护网络空间主权和国家安全、社会公共利益，保护公民、法人和其他组织的合法权益，促进经济社会信息化健康发展，制定本法。  第二十七条：  任何个人和组织不得从事非法侵入他人网络、干扰他人网络正常功能、窃取网络数据等危害网络安全的活动；不得提供专门用于从事侵入网络、干扰网络正常功能及防护措施、窃取网络数据等危害网络安全活动的程序、工具；明知他人从事危害网络安全的活动的，不得为其提供技术支持、广告推广、支付结算等帮助。  第四十一条：  网络运营者收集、使用个人信息，应当遵循合法、正当、必要的原则，公开收集、使用规则，明示收集、使用信息的目的、方式和范围，并经被收集者同意。 网络运营者不得收...</div></div></div></a><a class="pagination-related" href="/posts/196d2ba7.html" title="Hexo 博客搭建"><img class="cover" src="/./img/post_img/post_img1.jpg" onerror="onerror=null;src='/./img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hexo 博客搭建</div></div><div class="info-2"><div class="info-item-1">Hexo 博客搭建1 Hexo 介绍Hexo 官网地址：https://hexo.io/zh-cn/  Hexo 是一个基于 Node.js 构建的静态博客生成框架。它允许用户使用 Markdown 或其他标记语言编写文章，并通过简单的命令将这些文章转换为静态网页，从而可以轻松地创建个人博客或网站。Hexo 的主要特点包括：  静态网页生成： Hexo 将文章和页面内容转换为静态 HTML 文件，这意味着访问者在浏览时不需要执行服务器端的代码，从而加快页面加载速度。 Markdown 支持： 用户可以使用 Markdown 语法来编写文章，这是一种轻量级的标记语言，易于学习和使用。 主题和插件： Hexo 支持各种主题和插件，用户可以选择适合自己风格的主题，同时可以利用插件来增强博客的功能。 简单命令行操作： Hexo 提供了一系列简单的命令，如创建新文章、生成静态页面、部署到远程服务器等，使用户可以轻松管理和维护博客。 版本控制和备份： 由于 Hexo 生成的是静态文件，您可以将博客内容存储在版本控制系统中，如 Git，以便轻松地管理内容版本和进行备份。  2 Hexo 安装安...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/./img/avatar.jpg" onerror="this.onerror=null;this.src='/./img/404.jpg'" alt="avatar"/></div><div class="author-info-name">Yongz丶</div><div class="author-info-description">欲买桂花同载酒，终不似，少年游。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Y0n9zh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:y0n9zh@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a><a class="social-icon" href="https://www.yuque.com/yongz" target="_blank" title="Yueque"><i class="fa-solid fa-paperclip" style="color: #000000;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不定时分享一些内容...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hexo-%E9%83%A8%E7%BD%B2%E5%88%B0-aliyun"><span class="toc-text">Hexo 部署到 aliyun</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">1 服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Git-%E9%85%8D%E7%BD%AE"><span class="toc-text">2 Git 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BA-Git-%E7%94%A8%E6%88%B7%E5%B9%B6%E9%85%8D%E7%BD%AE-sudo-%E6%9D%83%E9%99%90"><span class="toc-text">2.1 创建 Git 用户并配置 sudo 权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E9%85%8D%E7%BD%AE-SSH-%E5%AF%86%E9%92%A5"><span class="toc-text">2.2 配置 SSH 密钥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%88%9B%E5%BB%BA%E7%BD%91%E7%AB%99%E6%A0%B9%E7%9B%AE%E5%BD%95"><span class="toc-text">2.3 创建网站根目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%88%9D%E5%A7%8B%E5%8C%96-Git-%E8%A3%B8%E4%BB%93%E5%BA%93%E5%B9%B6%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="toc-text">2.4 初始化 Git 裸仓库并配置自动化部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AE%E5%AE%9D%E5%A1%94"><span class="toc-text">3 安装并配置宝塔</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%AE%89%E8%A3%85%E5%AE%9D%E5%A1%94"><span class="toc-text">3.1 安装宝塔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E9%85%8D%E7%BD%AE%E5%AE%9D%E5%A1%94-Linux-%E9%9D%A2%E6%9D%BF"><span class="toc-text">3.2 配置宝塔 Linux 面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%B7%BB%E5%8A%A0%E7%BD%91%E7%AB%99%E5%B9%B6%E6%8C%89%E9%9C%80%E9%85%8D%E7%BD%AE-SSL-%E8%AF%81%E4%B9%A6"><span class="toc-text">3.3 添加网站并按需配置 SSL 证书</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0-Hexo"><span class="toc-text">4 配置本地 Hexo</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/aa56f87.html" title="网络安全法"><img src="/./img/post_img/post_img3.jpg" onerror="this.onerror=null;this.src='/./img/404.jpg'" alt="网络安全法"/></a><div class="content"><a class="title" href="/posts/aa56f87.html" title="网络安全法">网络安全法</a><time datetime="2023-12-11T14:50:13.000Z" title="发表于 2023-12-11 22:50:13">2023-12-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1659ba23.html" title="Hexo 部署到 Aliyun"><img src="/./img/post_img/post_img2.jpg" onerror="this.onerror=null;this.src='/./img/404.jpg'" alt="Hexo 部署到 Aliyun"/></a><div class="content"><a class="title" href="/posts/1659ba23.html" title="Hexo 部署到 Aliyun">Hexo 部署到 Aliyun</a><time datetime="2023-09-02T08:23:04.000Z" title="发表于 2023-09-02 16:23:04">2023-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/196d2ba7.html" title="Hexo 博客搭建"><img src="/./img/post_img/post_img1.jpg" onerror="this.onerror=null;this.src='/./img/404.jpg'" alt="Hexo 博客搭建"/></a><div class="content"><a class="title" href="/posts/196d2ba7.html" title="Hexo 博客搭建">Hexo 博客搭建</a><time datetime="2023-08-18T15:14:04.000Z" title="发表于 2023-08-18 23:14:04">2023-08-18</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/./img/post_img/post_img2.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By Yongz丶</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div><div class="footer_custom_text"><a href="https://beian.miit.gov.cn/#/Integrated/index"  style="color:white" target="_blank">闽ICP备2024058441号-1</a> | 免责声明：请勿利用文章内的相关技术从事非法测试，如因此产生的一切不良后果与本人无关</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>